extends ../layouts/common.pug

block content
    h1 Users
        a.mr-2(href="/users/create")
            button(class="btn btn-primary") New
    .d-flex.align-items-center.pt-4
        form.ml-auto(action='/users/search')
            input(type="text" name='q' id="input-field" value=searchInput)
            button(class="btn btn-primary ml-auto ml-2") Search
    
    table.table
        tr
            th Name
            th Phone
            th Actions
        each user in users
            tr
                td= user.name
                td= user.phone
                td
                    a(href='/users/'+ user.id) View

    script.
        var searchInput = document.getElementById('input-field');
            searchInput.value = sessionStorage.getItem('draft');
            searchInput.addEventListener('change', function() {
            sessionStorage.setItem('draft', searchInput.value);
        });
        